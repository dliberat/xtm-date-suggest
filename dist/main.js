!function(e){var t={};function n(r){if(t[r])return t[r].exports;var u=t[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,n),u.l=!0,u.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var u in e)n.d(r,u,function(t){return e[t]}.bind(null,u));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=class{constructor(){this.panel=document.createElement("div"),this.panel.classList.add("autocomplete-panel"),this.panel.id="dates-autocomplete-popup",document.body.appendChild(this.panel),this.currentSuffix}foundTerm(e,t,n){const r=function(e,t){const n=document.createElement("span");n.classList.add("autocomplete-prefix"),n.innerText=e;const r=document.createElement("span");r.classList.add("autocomplete-suffix"),r.innerText=t;const u=document.createElement("span");return u.appendChild(n),u.appendChild(r),u}(t,this.setSuffix(t,n));this.panel.innerHTML="",this.panel.appendChild(r),this.isVisible()||this.setPanelPosition(t),this.panel.style.display="block",document.addEventListener("click",()=>this.hide())}hide(){document.removeEventListener("click",()=>this.hide()),this.panel.style.display="none"}isVisible(){return"none"!==this.panel.style.display}setSuffix(e,t){return this.currentSuffix=t.slice(e.length),this.currentSuffix}getSuffix(){return this.currentSuffix}setPanelPosition(e){const{x:t,y:n}=function(){let e=0,t=0;const n=window.getSelection();if(n.rangeCount){const r=n.getRangeAt(0).cloneRange();if(r.getClientRects&&(r.collapse(!0),r.getClientRects().length>0)){const n=r.getClientRects()[0];e=n.left,t=n.top}if(0===e&&0===t){const n=document.createElement("span");if(n.getClientRects){n.appendChild(document.createTextNode("​")),r.insertNode(n);const u=n.getClientRects()[0];e=u.left,t=u.top;const o=n.parentNode;o.removeChild(n),o.normalize()}}}return{x:e,y:t}}(),r=t-4*e.length,u=n-35;this.panel.style.top=`${u}px`,this.panel.style.left=`${r}px`}};const u=new Date,o=u.getFullYear(),i=[["([0-9]{4})\\u5E74([0-1]?[0-9])\\u6708([0-3]?[0-9])\\u65E5\\s?([0-2]?[0-9][\\u6642\\uFF1A:][0-5][0-9]\\uFF5E[0-2]?[0-9][\\u6642\\uFF1A:][0-5][0-9])","{$1-$2-$3} $4"],["([0-9]{4})\\u5E74([0-1]?[0-9])\\u6708([0-3]?[0-9])\\u65E5\\s?([0-2]?[0-9])[\\u6642\\uFF1A:]([0-5][0-9])","{$1-$2-$3 $4:$5}"],["([0-9]{4})/([0-1]?[0-9])/([0-3]?[0-9])","{$1-$2-$3}"],["([0-1]?[0-9])\\u6708([0-3]?[0-9])\\u65E5\\s?([0-2]?[0-9])[\\u6642\\uFF1A:]([0-5][0-9])",`{${o}-$1-$2 $3:$4}`],["([0-1]?[0-9])\\u6708([0-3]?[0-9])\\u65E5\\s?([0-2]?[0-9])\\u6642",`{${o}-$1-$2 $3:00}`],["([0-1]?[0-9])\\u6708([0-3]?[0-9])\\u65E5\\s?\\u306E([0-2]?[0-9])\\u6642",`{${o}-$1-$2 $3:00}`],["([0-9]{4})\\u5E74([0-1]?[0-9])\\u6708([0-3]?[0-9])\\u65E5","{$1-$2-$3}"],["([0-9]{4})\\.([0-1]?[0-9])\\.([0-3]?[0-9])","{$1-$2-$3}"],["([0-2]?[0-9])[:\\uFF1A]([0-5][0-9]) ([0-1]?[0-9])\\/([0-3]?[0-9])",`{${o}-$3-$4 $1:$2}`],["([0-1]?[0-9])\\/([0-3]?[0-9]).([0-2]?[0-9])[:\\uFF1A]([0-5][0-9])",`{${o}-$1-$2 $3:$4}`],["([0-1]?[0-9])\\u6708([0-3]?[0-9])\\u65E5",`{${o}-$1-$2}`],["[0-2]?[0-9]:[0-5][0-9]\\s?[-–\\uFF5E]\\s?([0-1]?[0-9])\\/([0-3]?[0-9]) ([0-2]?[0-9]:[0-5][0-9])",`{${o}-$1-$2 $3}`],["([0-1]?[0-9])\\/([0-3]?[0-9])[（(][\\u65E5\\u6708火水木金土][）)]",`{${o}-$1-$2}`],["([0-1]?[0-9])\\/([0-3]?[0-9])[\\u304B\\u307E][\\u3089\\u3067]",`{${o}-$1-$2}`],["([0-3]?[0-9])\\u65E5",`{${o}-${u.getMonth()+1}-$1}`]];function s(e,t,n){let r=t;return e.forEach(e=>{const t=new RegExp(e[0],n);r=r.replace(t,e[1])}),r}function c(e){let t=e;return t=function(e){return s([["([0-9]?[0-9])[\\u65E5\\u6642\\u5206][\\u9593\\u76EE]"," $1 "],["([0-9]+)\\u65E5\\u9023\\u7D9A"," $1 "],["[0-9]\\u65E5([0-9]+)\\u56DE"," $1 "]],e,"gi")}(t=function(e){return e.replace(/\u5341\u4E00/g,"11").replace(/\u5341\u4E8C/g,"12").replace(/\u5341\u4E09/g,"13").replace(/\u5341\u56DB/g,"14").replace(/\u5341\u4E94/g,"15").replace(/\u5341\u516D/g,"16").replace(/\u5341\u4E03/g,"17").replace(/\u5341\u516B/g,"18").replace(/\u5341\u4E5D/g,"19").replace(/\u4E8C\u5341/g,"20").replace(/\uFF12|\u4E8C/g,"2").replace(/\uFF13|\u4E09/g,"3").replace(/\uFF14|\u56DB/g,"4").replace(/\uFF15|\u4E94/g,"5").replace(/\uFF16|\u516D/g,"6").replace(/\uFF17|\u4E03/g,"7").replace(/\uFF18|\u516B/g,"8").replace(/\uFF19|\u4E5D/g,"9")}(t)),t=s(i,t,"gi")}function a(e,t,n,r=""){let u=Number(t);const o=Number(n),i=r.toLowerCase();12===u&&"am"===i&&(u=0),u<12&&"pm"===i&&(u+=12);let s=u.toString(),c=o.toString();return u<10&&(s=`0${s}`),o<10&&(c=`0${c}`),`${s}:${c}`}function l(e){return e.replace(/([0-2]?[0-9]):([0-5][0-9])([ap]m)?/gi,a)}var d=function(e){return function(e){return function(e,t,n=[]){let r;do{(r=t.exec(e))&&n.push(r)}while(r);return n}(e,new RegExp("{[0-9]{4}-[0-1]?[0-9]-[0-3]?[0-9]}|{[0-9]{4}-[0-1]?[0-9]-[0-3]?[0-9] [0-2]?[0-9]:[0-5][0-9][ap]?[m]?}","gi")).map(e=>e[0])}(c(e)).map(l)};var p=class{constructor(e){this.list={},this.dateFormat=e}addSegment(e){if(this.list[e])return;const t=document.getElementById(`sourceContent${e}`);d(t.innerText).map(e=>this.dateFormatter(e)).forEach(t=>{this.addTerm(e,t)})}addTerm(e,t){this.list[e]||(this.list[e]=[]),-1===this.list[e].indexOf(t)&&this.list[e].push(t)}dateFormatter(e){return e.replace(/{(\d{4})-([0-2]?[0-9])-([1-3]?[0-9])(?: ([0-2]?[0-9]):([0-5][0-9]))?}/,(...e)=>this.dateFormat.replacer(...e))}getSegmentArray(e){return this.list[e]||[]}};var h=class{constructor(e){this.element=e,this.caretPosition=function(){const e=window.getSelection().getRangeAt(0),t=window.getSelection();let n=0;const r=t.anchorNode.parentNode.childNodes;for(let e=0;e<r.length&&r[e]!==t.anchorNode;e+=1)r[e].outerHTML?n+=r[e].outerHTML.length:3===r[e].nodeType&&(n+=r[e].textContent.length);return e.startOffset+n}(),this.currentWord=this.getCurrentWord(this.elementContent(),this.caretPosition)}elementContent(){return this.element.value||this.element.innerText}getCurrentWord(e,t){const n=this.getWordBoundary(e,t);return e.slice(n,t)}getWordBoundary(e,t){const n=t-1;return n<0||" "===e[n]?n+1:this.getWordBoundary(e,n)}isMidWord(){const e=this.elementContent().charAt(this.caretPosition);return!(!e||" "===e)}};function g(e,t,n){const r=e.currentTarget;e.keyCode>=37&&e.keyCode<=40?t.hide():9===e.keyCode&&t.isVisible()&&(e.preventDefault(),function(e,t,n){const r=e.value?"value":"innerText",u=t.getSuffix();e[r]=function(e,t,n){const r=n.caretPosition;return e.substr(0,r)+t+e.substr(r)}(e[r],u,n),t.hide(),window.setTimeout(()=>{const t=document.createRange();t.setStart(e.childNodes[0],n.caretPosition+u.length),t.collapse(!0);const r=window.getSelection();r.removeAllRanges(),r.addRange(t)},5)}(r,t,n))}function f(e,t,n,r){if(n.length>0){const u=function(e,t){const n=e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),r=new RegExp(`^${n}`);for(let n=0;n<t.length;n+=1){const u=t[n];if(r.test(u)&&e!==u)return u}return null}(n,t);u?r.foundTerm(e,n,u):r.hide()}}class m{replacer(e,...t){return""}}class $ extends m{constructor(){super(),this.dateAndTime="hh:mm, MM DD",this.dateOnly="MM DD",this.months={1:"Jan.",2:"Feb.",3:"Mar.",4:"Apr.",5:"Mar.",6:"Jun.",7:"Jul.",8:"Aug.",9:"Sep.",10:"Oct.",11:"Nov.",12:"Dec."}}replacer(e,...t){return e.length>11?this.replaceDateTime(t):this.replaceDateOnly(t)}replaceDateOnly(e){const[,t,n]=e;return this.dateOnly.replace("MM",this.months[t]).replace("DD",n)}replaceDateTime(e){const[,t,n,r,u]=e;return this.dateAndTime.replace("MM",this.months[t]).replace("DD",n).replace("hh",r).replace("mm",u)}}const E=new $,y=new class extends ${constructor(){super(),this.months={1:"January",2:"February",3:"March",4:"April",5:"March",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}}},F=new class extends ${constructor(){super(),this.dateAndTime="hh:mmPP, MM DD"}replaceDateTime(e){const[,t,n,r,u]=e;let o="am",i=parseInt(r,10);return i>11&&(i-=12,o="pm"),this.dateAndTime.replace("MM",this.months[t]).replace("DD",n).replace("hh",i.toString()).replace("mm",u).replace("PP",o)}};let x=new p(E);const b=new r;let v,M=[];function T(){document.querySelectorAll('td [id^="content"]').forEach(e=>{e.addEventListener("focus",e=>{M=function(e,t,n){t.hide();const r=Number(e.currentTarget.id.slice(7));return n.addSegment(r),n.getSegmentArray(r)}(e,b,x)}),e.addEventListener("click",()=>(function(e){e.hide()})(b)),e.addEventListener("input",e=>{v=function(e,t,n,r){return e.currentTarget.value||e.currentTarget.innerText?(!(n=new h(e.currentTarget)).isMidWord()&&n.currentWord.length>0?f(e.currentTarget,r,n.currentWord,t):n.currentWord.length<1&&t.hide(),n):(t.hide(),n)}(e,b,v,M)}),e.addEventListener("keydown",e=>g(e,b,v))})}function D(e){switch(e.target.value){case"basicShortMonth":x=new p(E);break;case"basicLongMonth":x=new p(y);break;case"shortMonthAMPM":x=new p(F)}}document.addEventListener("DOMContentLoaded",()=>{document.getElementById("dropdown").addEventListener("change",D),T()})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL1BhbmVsLmpzIiwid2VicGFjazovLy8uL3NyYy9wYXJzZURhdGVzLmpzIiwid2VicGFjazovLy8uL3NyYy9UZXJtTGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ2FyZXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hhbmRsZXJzLmpzIiwid2VicGFjazovLy8uL3NyYy9EYXRlRm9ybWF0cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJzcmNfUGFuZWwiLCJbb2JqZWN0IE9iamVjdF0iLCJ0aGlzIiwicGFuZWwiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJpZCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImN1cnJlbnRTdWZmaXgiLCJlbGVtZW50IiwiY3VycmVudFdvcmQiLCJ0ZXJtIiwic3BhbiIsInByZWZpeCIsInN1ZmZpeCIsInByZSIsImlubmVyVGV4dCIsInN1ZiIsImdlbmVyYXRlSW5uZXJOb2RlcyIsInNldFN1ZmZpeCIsImlubmVySFRNTCIsImlzVmlzaWJsZSIsInNldFBhbmVsUG9zaXRpb24iLCJzdHlsZSIsImRpc3BsYXkiLCJhZGRFdmVudExpc3RlbmVyIiwiaGlkZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzbGljZSIsImxlbmd0aCIsIngiLCJ5Iiwic2VsIiwid2luZG93IiwiZ2V0U2VsZWN0aW9uIiwicmFuZ2VDb3VudCIsInJhbmdlIiwiZ2V0UmFuZ2VBdCIsImNsb25lUmFuZ2UiLCJnZXRDbGllbnRSZWN0cyIsImNvbGxhcHNlIiwicmVjdCIsImxlZnQiLCJ0b3AiLCJjcmVhdGVUZXh0Tm9kZSIsImluc2VydE5vZGUiLCJzcGFuUGFyZW50IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwibm9ybWFsaXplIiwiZ2V0U2VsZWN0aW9uQ29vcmRzIiwibmV3eCIsIm5ld3kiLCJub3ciLCJEYXRlIiwidGhpc1llYXIiLCJnZXRGdWxsWWVhciIsIm9EYXRlRm9ybWF0cyIsImdldE1vbnRoIiwicmVwbGFjZUFsbEZyb21BcnJheSIsImZvcm1hdENoYW5nZXNBcnIiLCJzdHIiLCJwYXJhbWV0ZXJzIiwic3RyaW5nIiwiZm9yRWFjaCIsImUiLCJyZSIsIlJlZ0V4cCIsInJlcGxhY2UiLCJjbGVhblN0cmluZ3NCZWZvcmVEYXRlQ2hlY2siLCJzcmMiLCJzb3VyY2UiLCJpbml0aWFsSlBGaWx0ZXIiLCJyZXBsYWNlS2FuamlOdW1zIiwidHdlbnR5Rm91ckhvdXJzIiwibWF0Y2giLCJob3VyIiwibWludXRlcyIsIm1lcmlkaWFuIiwiaHIiLCJOdW1iZXIiLCJtaW4iLCJtZXIiLCJ0b0xvd2VyQ2FzZSIsInNIciIsInRvU3RyaW5nIiwic01pbiIsImNvbnZlcnRUb1R3ZW50eUZvdXJIb3VyQ2xvY2siLCJzcmNfcGFyc2VEYXRlcyIsInRleHQiLCJyZWdleCIsImFjY3VtdWxhdG9yQXJyIiwiZXhlYyIsInB1c2giLCJtYXRjaFRvQXJyYXkiLCJtYXAiLCJleHRyYWN0RGF0ZXMiLCJzcmNfVGVybUxpc3QiLCJmb3JtYXQiLCJsaXN0IiwiZGF0ZUZvcm1hdCIsInNlZ21lbnROdW0iLCJnZXRFbGVtZW50QnlJZCIsImRhdGVGb3JtYXR0ZXIiLCJkYXRlIiwiYWRkVGVybSIsImluZGV4T2YiLCJhcmdzIiwicmVwbGFjZXIiLCJudW0iLCJzcmNfQ2FyZXQiLCJjYXJldFBvc2l0aW9uIiwic2VsZWN0ZWRPYmoiLCJjaGlsZE5vZGVzIiwiYW5jaG9yTm9kZSIsIm91dGVySFRNTCIsIm5vZGVUeXBlIiwidGV4dENvbnRlbnQiLCJzdGFydE9mZnNldCIsImdldENhcmV0UG9zaXRpb24iLCJnZXRDdXJyZW50V29yZCIsImVsZW1lbnRDb250ZW50Iiwic3BhY2UiLCJnZXRXb3JkQm91bmRhcnkiLCJwb2ludGVyIiwiY2hhckF0Iiwia2V5RG93bkhhbmRsZXIiLCJjYXJldCIsIm5vZGUiLCJjdXJyZW50VGFyZ2V0Iiwia2V5Q29kZSIsInByZXZlbnREZWZhdWx0IiwidHh0UHJvcCIsImdldFN1ZmZpeCIsInBvcyIsInN1YnN0ciIsImluc2VydFN1ZmZpeCIsInNldFRpbWVvdXQiLCJjcmVhdGVSYW5nZSIsInNldFN0YXJ0IiwicmVtb3ZlQWxsUmFuZ2VzIiwiYWRkUmFuZ2UiLCJyZXBsYWNlRWxlbWVudFRleHRXaXRoQXV0b2NvbXBsZXRlZFRleHQiLCJhdXRvY29tcGxldGVQb3B1cCIsInRlcm1zIiwibWF0Y2hlZFRlcm0iLCJ3b3JkIiwiZXNjYXBlZCIsInRlc3QiLCJtYXRjaGVzVGVybSIsImZvdW5kVGVybSIsIklEYXRlRm9ybWF0Iiwic3VibWF0Y2hlcyIsIkJhc2ljU2hvcnRNb250aCIsInN1cGVyIiwiZGF0ZUFuZFRpbWUiLCJkYXRlT25seSIsIm1vbnRocyIsIjEiLCIyIiwiMyIsIjQiLCI1IiwiNiIsIjciLCI4IiwiOSIsIjEwIiwiMTEiLCIxMiIsInJlcGxhY2VEYXRlVGltZSIsInJlcGxhY2VEYXRlT25seSIsIm1vbnRoIiwiZGF5IiwiYmFzaWNTaG9ydE1vbnRoIiwiYmFzaWNMb25nTW9udGgiLCJzaG9ydE1vbnRoQU1QTSIsImFtcG0iLCJwYXJzZUludCIsInRlcm1saXN0Iiwic3JjX3BhbmVsIiwic3JjX2NhcmV0Iiwic3JjX3Rlcm1zIiwibWFpbiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dCIsImlkbnVtIiwiYWRkU2VnbWVudCIsImdldFNlZ21lbnRBcnJheSIsImZvY3VzSGFuZGxlciIsImNsaWNrSGFuZGxlciIsImlzTWlkV29yZCIsImlucHV0SGFuZGxlciIsImNoYW5nZUhhbmRsZXIiLCJ0YXJnZXQiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsYUFBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEsTUFHQSxHQUZBMUIsRUFBQWtCLEVBQUFPLEdBQ0FYLE9BQUFDLGVBQUFVLEVBQUEsV0FBeUNULFlBQUEsRUFBQUssVUFDekMsRUFBQUUsR0FBQSxpQkFBQUYsRUFB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T0FHQXFHLElBakJBL0gsRUFBQTBCLE9BQ0FxRyxHRXpENENpRSxDQUFBL0gsRUFBQW1ILEVBQUFDLEVBQUFDLEtBQzVDRyxFQUFBaEssaUJBQUEsVUFBQXdDLEdBQUE2RCxFQUFBN0QsRUFBQW1ILEVBQUFDLE1BS0EsU0FBQVksRUFBQWhJLEdBRUEsT0FEQUEsRUFBQWlJLE9BQUFwTixPQUVBLHNCQUNBcU0sRUFBQSxJQUFBbEYsRUFBQTZFLEdBQ0EsTUFDQSxxQkFDQUssRUFBQSxJQUFBbEYsRUFBQThFLEdBQ0EsTUFDQSxxQkFDQUksRUFBQSxJQUFBbEYsRUFBQStFLElBS0EvSyxTQUFBd0IsaUJBQUEsd0JBS0F4QixTQUFBcUcsZUFBQSxZQUNBN0UsaUJBQUEsU0FBQXdLLEdBQ0FWIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCIvKiBnbG9iYWwgd2luZG93LCBkb2N1bWVudCAqL1xuXG5mdW5jdGlvbiBnZXRTZWxlY3Rpb25Db29yZHMoKSB7XG4gIGxldCB4ID0gMDtcbiAgbGV0IHkgPSAwO1xuXG4gIGNvbnN0IHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgaWYgKHNlbC5yYW5nZUNvdW50KSB7XG4gICAgY29uc3QgcmFuZ2UgPSBzZWwuZ2V0UmFuZ2VBdCgwKS5jbG9uZVJhbmdlKCk7XG4gICAgaWYgKHJhbmdlLmdldENsaWVudFJlY3RzKSB7XG4gICAgICByYW5nZS5jb2xsYXBzZSh0cnVlKTtcbiAgICAgIGlmIChyYW5nZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgcmVjdCA9IHJhbmdlLmdldENsaWVudFJlY3RzKClbMF07XG4gICAgICAgIHggPSByZWN0LmxlZnQ7XG4gICAgICAgIHkgPSByZWN0LnRvcDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGYWxsIGJhY2sgdG8gaW5zZXJ0aW5nIGEgdGVtcG9yYXJ5IGVsZW1lbnRcbiAgICBpZiAoeCA9PT0gMCAmJiB5ID09PSAwKSB7XG4gICAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgaWYgKHNwYW4uZ2V0Q2xpZW50UmVjdHMpIHtcbiAgICAgICAgLy8gRW5zdXJlIHNwYW4gaGFzIGRpbWVuc2lvbnMgYW5kIHBvc2l0aW9uIGJ5XG4gICAgICAgIC8vIGFkZGluZyBhIHplcm8td2lkdGggc3BhY2UgY2hhcmFjdGVyXG4gICAgICAgIHNwYW4uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ1xcdTIwMGInKSk7XG4gICAgICAgIHJhbmdlLmluc2VydE5vZGUoc3Bhbik7XG4gICAgICAgIGNvbnN0IHJlY3QgPSBzcGFuLmdldENsaWVudFJlY3RzKClbMF07XG4gICAgICAgIHggPSByZWN0LmxlZnQ7XG4gICAgICAgIHkgPSByZWN0LnRvcDtcbiAgICAgICAgY29uc3Qgc3BhblBhcmVudCA9IHNwYW4ucGFyZW50Tm9kZTtcbiAgICAgICAgc3BhblBhcmVudC5yZW1vdmVDaGlsZChzcGFuKTtcblxuICAgICAgICAvLyBHbHVlIGFueSBicm9rZW4gdGV4dCBub2RlcyBiYWNrIHRvZ2V0aGVyXG4gICAgICAgIHNwYW5QYXJlbnQubm9ybWFsaXplKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB7IHgsIHkgfTtcbn1cblxuXG4vKipcbiAqIEdlbmVyYXRlcyBhIHNwYW4gZWxlbWVudCB0aGF0IGl0c2VsZiBjb250YWlucyB0d28gc3BhbnMuXG4gKiBUaGUgcHJlZml4IGFuZCBzdWZmaXggcG9ydGlvbnMgb2YgdGhlIHRleHQgZ2V0IGRpZmZlcmVudFxuICogY2xhc3MgbmFtZXMgc28gdGhhdCB0aGUgdXNlciBjYW4gcmVjZWl2ZSB2aXN1YWwgZmVlZGJhY2tcbiAqIGFzIHRoZXkgdHlwZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwcmVmaXggLSBTdWJzdHJpbmcgb2YgdGhlIHN1Z2dlc3Rpb24gdGV4dFxuICogdGhhdCB0aGUgdXNlciBoYXMgYWxyZWFkeSB0eXBlZCBpbnRvIHRoZSBpbnB1dCBlbGVtZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IHN1ZmZpeCAtIFN1YnN0cmluZyBvZiB0aGUgc3VnZ2VzdGlvbiB0ZXh0XG4gKiB0aGF0IHRoZSB1c2VyIGhhcyBub3QgeWV0IHR5cGVkIGludG8gdGhlIGlucHV0IGVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlSW5uZXJOb2RlcyhwcmVmaXgsIHN1ZmZpeCkge1xuICBjb25zdCBwcmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gIHByZS5jbGFzc0xpc3QuYWRkKCdhdXRvY29tcGxldGUtcHJlZml4Jyk7XG4gIHByZS5pbm5lclRleHQgPSBwcmVmaXg7XG5cbiAgY29uc3Qgc3VmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICBzdWYuY2xhc3NMaXN0LmFkZCgnYXV0b2NvbXBsZXRlLXN1ZmZpeCcpO1xuICBzdWYuaW5uZXJUZXh0ID0gc3VmZml4O1xuXG4gIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gIHNwYW4uYXBwZW5kQ2hpbGQocHJlKTtcbiAgc3Bhbi5hcHBlbmRDaGlsZChzdWYpO1xuICByZXR1cm4gc3Bhbjtcbn1cblxuXG4vLyB0aGUgZGl2IHRoYXQgd2lsbCBjb250YWluIHRoZSB0ZXJtIGluZm9cbmNsYXNzIFBhbmVsIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5wYW5lbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMucGFuZWwuY2xhc3NMaXN0LmFkZCgnYXV0b2NvbXBsZXRlLXBhbmVsJyk7XG4gICAgdGhpcy5wYW5lbC5pZCA9ICdkYXRlcy1hdXRvY29tcGxldGUtcG9wdXAnO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5wYW5lbCk7XG5cbiAgICB0aGlzLmN1cnJlbnRTdWZmaXg7XG4gIH1cblxuICBmb3VuZFRlcm0oZWxlbWVudCwgY3VycmVudFdvcmQsIHRlcm0pIHtcbiAgICAvLyBHZXQgdGhlIHN1ZmZpeCBmcm9tIHRoZSB0ZXJtXG4gICAgY29uc3Qgc3VmZml4ID0gdGhpcy5zZXRTdWZmaXgoY3VycmVudFdvcmQsIHRlcm0pO1xuXG4gICAgLy8gcGxhY2UgdGhlIGFwcHJvcHJpYXRlIHRleHQgaW4gdGhlIGRpdlxuICAgIGNvbnN0IHNwYW4gPSBnZW5lcmF0ZUlubmVyTm9kZXMoY3VycmVudFdvcmQsIHN1ZmZpeCk7XG4gICAgdGhpcy5wYW5lbC5pbm5lckhUTUwgPSAnJztcbiAgICB0aGlzLnBhbmVsLmFwcGVuZENoaWxkKHNwYW4pO1xuXG4gICAgLy8gSWYgdGhlIHBhbmVsIGlzIG5vdCB5ZXQgcmVuZGVyZWQsIHNldCB0aGUgbG9jYXRpb24uXG4gICAgLy8gRG9uJ3QgbW92ZSB0aGUgcGFuZWwgaWYgdGhlIHVzZXIgaXMgaW4gdGhlIG1pZGRsZSBvZiB0eXBpbmcgYSB3b3JkXG4gICAgaWYgKCF0aGlzLmlzVmlzaWJsZSgpKSB0aGlzLnNldFBhbmVsUG9zaXRpb24oY3VycmVudFdvcmQpO1xuXG4gICAgdGhpcy5wYW5lbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5oaWRlKCkpO1xuICB9XG5cbiAgaGlkZSgpIHtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuaGlkZSgpKTtcbiAgICB0aGlzLnBhbmVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIH1cblxuICBpc1Zpc2libGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFuZWwuc3R5bGUuZGlzcGxheSAhPT0gJ25vbmUnO1xuICB9XG5cbiAgc2V0U3VmZml4KGN1cnJlbnRXb3JkLCB0ZXJtKSB7XG4gICAgdGhpcy5jdXJyZW50U3VmZml4ID0gdGVybS5zbGljZShjdXJyZW50V29yZC5sZW5ndGgpO1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRTdWZmaXg7XG4gIH1cblxuICAvKipcbiAgICogUHVibGljIGludGVyZmFjZSBmb3IgdGhlIHN1ZmZpeC5cbiAgICovXG4gIGdldFN1ZmZpeCgpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50U3VmZml4O1xuICB9XG5cbiAgLyoqXG4gICAqIFBvc2l0aW9ucyB0aGUgcGFuZWwgYWJvdmUgdGhlIGN1cnNvci5cbiAgICogUHJvdmlkZXMgYSBzbWFsbCBsZWZ0IG9mZnNldCBvZiBhIHNpemUgcmVsYXRpdmUgdG8gdGhlIGxlbmd0aCBvZlxuICAgKiB0aGUgcHJlZml4LiBTaW5jZSB0aGUgcG9zaXRpb24gaXMgb25seSBjYWxjdWxhdGVkIHdoZW4gdGhlIHBhbmVsXG4gICAqIGlzIGZpcnN0IG1hZGUgdmlzaWJsZSAoYW5kIG5vdCBvbiBzdWJzZXF1ZW50IGlucHV0KSwgdGhpcyBvZmZzZXRcbiAgICogd2lsbCB1c3VhbGx5IGJlIG5lZ2xpZ2libGUuIEhvd2V2ZXIsIGl0IG1ha2VzIGZvciBhIG5pY2VyIGRpc3BsYXlcbiAgICogd2hlbiBnb2luZyBiYWNrIHRvIGNvbXBsZXRlIGEgdGVybSB0aGF0IHdhcyBvbmx5IHBhcnRpYWxseSB0eXBlZFxuICAgKiBpbiBidXQgbm90IGNvbXBsZXRlZC5cbiAgICpcbiAgICogSXQgbWlnaHQgYmUgYmV0dGVyIHRvIGNhbGN1bGF0ZSBvZmZzZXRzIGJhc2VkIG9uIGNvbXB1dGVkIHN0eWxlc1xuICAgKiBldGMuLCBidXQgdGhlc2UgYmFzaWMgdmFsdWVzIHdvcmsgcmVhc29uYWJseSB3ZWxsIGZvciB0aGUgZGVmYXVsdFxuICAgKiBYVE0gZGlzcGxheS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHByZWZpeCAtIFN1YnN0cmluZyBvZiB0aGUgY3VycmVudCB0ZXJtIHRoYXQgdGhlXG4gICAqIHVzZXIgaGFzIGFscmVhZHkgdHlwZWQgaW50byB0aGUgdGV4dCBlbnRyeSBlbGVtZW50XG4gICAqL1xuICBzZXRQYW5lbFBvc2l0aW9uKHByZWZpeCkge1xuICAgIC8vIHggYW5kIHkgcG9zaXRpb25zIG9mIHRoZSB0ZXh0IGN1cnNvclxuICAgIGNvbnN0IHsgeCwgeSB9ID0gZ2V0U2VsZWN0aW9uQ29vcmRzKCk7XG4gICAgY29uc3QgbmV3eCA9IHggLSBwcmVmaXgubGVuZ3RoICogNDtcbiAgICBjb25zdCBuZXd5ID0geSAtIDM1O1xuICAgIHRoaXMucGFuZWwuc3R5bGUudG9wID0gYCR7bmV3eX1weGA7XG4gICAgdGhpcy5wYW5lbC5zdHlsZS5sZWZ0ID0gYCR7bmV3eH1weGA7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGFuZWw7XG4iLCJjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuY29uc3QgdGhpc1llYXIgPSBub3cuZ2V0RnVsbFllYXIoKTtcbmNvbnN0IHRoaXNNb250aCA9IG5vdy5nZXRNb250aCgpICsgMTtcblxuY29uc3Qgb0RhdGVGb3JtYXRzID0gW1xuICBbJyhbMC05XXs0fSlcXFxcdTVFNzQoWzAtMV0/WzAtOV0pXFxcXHU2NzA4KFswLTNdP1swLTldKVxcXFx1NjVFNVxcXFxzPyhbMC0yXT9bMC05XVtcXFxcdTY2NDJcXFxcdUZGMUE6XVswLTVdWzAtOV1cXFxcdUZGNUVbMC0yXT9bMC05XVtcXFxcdTY2NDJcXFxcdUZGMUE6XVswLTVdWzAtOV0pJywgJ3skMS0kMi0kM30gJDQnXSwgLy8gMjAxN+W5tDnmnIgxMOaXpTEw5pmC77yT77yQfjExOjMwXG4gIFsnKFswLTldezR9KVxcXFx1NUU3NChbMC0xXT9bMC05XSlcXFxcdTY3MDgoWzAtM10/WzAtOV0pXFxcXHU2NUU1XFxcXHM/KFswLTJdP1swLTldKVtcXFxcdTY2NDJcXFxcdUZGMUE6XShbMC01XVswLTldKScsICd7JDEtJDItJDMgJDQ6JDV9J10sIC8vIDIwMTflubQ55pyIMTDml6UxMOaZgu+8k++8kOWIhlxuICBbJyhbMC05XXs0fSkvKFswLTFdP1swLTldKS8oWzAtM10/WzAtOV0pJywgJ3skMS0kMi0kM30nXSwgLy8gMjAxNy85LzFcbiAgWycoWzAtMV0/WzAtOV0pXFxcXHU2NzA4KFswLTNdP1swLTldKVxcXFx1NjVFNVxcXFxzPyhbMC0yXT9bMC05XSlbXFxcXHU2NjQyXFxcXHVGRjFBOl0oWzAtNV1bMC05XSknLCBgeyR7dGhpc1llYXJ9LSQxLSQyICQzOiQ0fWBdLCAvLyA55pyIMTDml6UxMOaZgu+8k++8kOWIhlxuICBbJyhbMC0xXT9bMC05XSlcXFxcdTY3MDgoWzAtM10/WzAtOV0pXFxcXHU2NUU1XFxcXHM/KFswLTJdP1swLTldKVxcXFx1NjY0MicsIGB7JHt0aGlzWWVhcn0tJDEtJDIgJDM6MDB9YF0sIC8vIDnmnIgxMOaXpTEw5pmCXG4gIFsnKFswLTFdP1swLTldKVxcXFx1NjcwOChbMC0zXT9bMC05XSlcXFxcdTY1RTVcXFxccz9cXFxcdTMwNkUoWzAtMl0/WzAtOV0pXFxcXHU2NjQyJywgYHske3RoaXNZZWFyfS0kMS0kMiAkMzowMH1gXSwgLy8gOeaciDEw5pel44GuMTDmmYJcbiAgWycoWzAtOV17NH0pXFxcXHU1RTc0KFswLTFdP1swLTldKVxcXFx1NjcwOChbMC0zXT9bMC05XSlcXFxcdTY1RTUnLCAneyQxLSQyLSQzfSddLCAvLyAyMDE35bm0OeaciDEw5pelXG4gIFsnKFswLTldezR9KVxcXFwuKFswLTFdP1swLTldKVxcXFwuKFswLTNdP1swLTldKScsICd7JDEtJDItJDN9J10sIC8vIDIwMTcuOS4xMFxuICBbJyhbMC0yXT9bMC05XSlbOlxcXFx1RkYxQV0oWzAtNV1bMC05XSkgKFswLTFdP1swLTldKVxcXFwvKFswLTNdP1swLTldKScsIGB7JHt0aGlzWWVhcn0tJDMtJDQgJDE6JDJ9YF0sIC8vIDIxOjU5IDA5LzEwXG4gIFsnKFswLTFdP1swLTldKVxcXFwvKFswLTNdP1swLTldKS4oWzAtMl0/WzAtOV0pWzpcXFxcdUZGMUFdKFswLTVdWzAtOV0pJywgYHske3RoaXNZZWFyfS0kMS0kMiAkMzokNH1gXSwgLy8gMDkvMTAgMjE6NTlcbiAgWycoWzAtMV0/WzAtOV0pXFxcXHU2NzA4KFswLTNdP1swLTldKVxcXFx1NjVFNScsIGB7JHt0aGlzWWVhcn0tJDEtJDJ9YF0sIC8vIDnmnIgxMOaXpVxuICBbJ1swLTJdP1swLTldOlswLTVdWzAtOV1cXFxccz9bLeKAk1xcXFx1RkY1RV1cXFxccz8oWzAtMV0/WzAtOV0pXFxcXC8oWzAtM10/WzAtOV0pIChbMC0yXT9bMC05XTpbMC01XVswLTldKScsIGB7JHt0aGlzWWVhcn0tJDEtJDIgJDN9YF0sIC8vIDExOjAwIC0gMTAvMjkgMjM6NTlcbiAgWycoWzAtMV0/WzAtOV0pXFxcXC8oWzAtM10/WzAtOV0pW++8iChdW1xcXFx1NjVFNVxcXFx1NjcwOOeBq+awtOacqOmHkeWcn11b77yJKV0nLCBgeyR7dGhpc1llYXJ9LSQxLSQyfWBdLCAvLyA5LzIx77yI5Zyf77yJXG4gIFsnKFswLTFdP1swLTldKVxcXFwvKFswLTNdP1swLTldKVtcXFxcdTMwNEJcXFxcdTMwN0VdW1xcXFx1MzA4OVxcXFx1MzA2N10nLCBgeyR7dGhpc1llYXJ9LSQxLSQyfWBdLCAvLyA5LzIx44GL44KJIDkvMzHjgb7jgadcbiAgWycoWzAtM10/WzAtOV0pXFxcXHU2NUU1JywgYHske3RoaXNZZWFyfS0ke3RoaXNNb250aH0tJDF9YF0sIC8vIDEw5pelXG5dO1xuXG5cbi8qKlxuICogSXRlcmF0ZXMgb3ZlciBhbiBhcnJheSBhbmQgYXBwbGllcyBhbGwgdGhlIHJlcGxhY2VtZW50cyBpbmRpY2F0ZWRcbiAqIGluIHRoZSBjb25zdGl0dWVudCBhcnJheXMuXG4gKiBAcGFyYW0geypbXX0gZm9ybWF0Q2hhbmdlc0FyciAtIEFycmF5IG9mIHN1YnN0cmluZ3MgdG8gcmVwbGFjZVxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciAtIFRoZSBzdHJpbmcgdG8gbW9kaWZ5XG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1zIC0gUmVnRXhwIGZsYWdzLiBEZWZhdWx0cyB0byAnZ2knLlxuICovXG5mdW5jdGlvbiByZXBsYWNlQWxsRnJvbUFycmF5KGZvcm1hdENoYW5nZXNBcnIsIHN0ciwgcGFyYW1ldGVycykge1xuICBsZXQgc3RyaW5nID0gc3RyO1xuXG4gIGZvcm1hdENoYW5nZXNBcnIuZm9yRWFjaCgoZSkgPT4ge1xuICAgIGNvbnN0IHJlID0gbmV3IFJlZ0V4cChlWzBdLCBwYXJhbWV0ZXJzKTtcbiAgICBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShyZSwgZVsxXSk7XG4gIH0pO1xuXG4gIHJldHVybiBzdHJpbmc7XG59XG5cblxuLyoqXG4gKiBSZW1vdmUgd29yZHMgZnJvbSB0aGUgSlAgdGhhdCBoYXZlIGthbmppIGluIHRoZW0gdGhhdCB3b3VsZCBub3JtYWxseSBiZVxuICogbWlzdGFrZW4gZm9yIGRhdGVzL3RpbWVzLCBvciB0aGF0IHNob3VsZCBuZXZlciBiZSB0cmFuc2xhdGVkIGFzIGRhdGVzL3RpbWVzLlxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyAtIFRoZSB0ZXh0IHRvIHJlcGxhY2VcbiovXG5mdW5jdGlvbiBpbml0aWFsSlBGaWx0ZXIoc3RyaW5nKSB7XG4gIGNvbnN0IGFyciA9IFtcbiAgICBbJyhbMC05XT9bMC05XSlbXFxcXHU2NUU1XFxcXHU2NjQyXFxcXHU1MjA2XVtcXFxcdTk1OTNcXFxcdTc2RUVdJywgJyAkMSAnXSwgLy8gM+aXpeebriw05pel6ZaTLDPmmYLplpMsMjXliIbplpNcbiAgICBbJyhbMC05XSspXFxcXHU2NUU1XFxcXHU5MDIzXFxcXHU3RDlBJywgJyAkMSAnXSwgLy8gNuaXpemAo+e2mlxuICAgIFsnWzAtOV1cXFxcdTY1RTUoWzAtOV0rKVxcXFx1NTZERScsICcgJDEgJ10sIC8vIDHml6XvvJHlm55cbiAgXTtcblxuICByZXR1cm4gcmVwbGFjZUFsbEZyb21BcnJheShhcnIsIHN0cmluZywgJ2dpJyk7XG59XG5cblxuZnVuY3Rpb24gcmVwbGFjZUthbmppTnVtcyhzKSB7XG4gIHJldHVybiBzXG4gICAgLnJlcGxhY2UoL1xcdTUzNDFcXHU0RTAwL2csICcxMScpXG4gICAgLnJlcGxhY2UoL1xcdTUzNDFcXHU0RThDL2csICcxMicpXG4gICAgLnJlcGxhY2UoL1xcdTUzNDFcXHU0RTA5L2csICcxMycpXG4gICAgLnJlcGxhY2UoL1xcdTUzNDFcXHU1NkRCL2csICcxNCcpXG4gICAgLnJlcGxhY2UoL1xcdTUzNDFcXHU0RTk0L2csICcxNScpXG4gICAgLnJlcGxhY2UoL1xcdTUzNDFcXHU1MTZEL2csICcxNicpXG4gICAgLnJlcGxhY2UoL1xcdTUzNDFcXHU0RTAzL2csICcxNycpXG4gICAgLnJlcGxhY2UoL1xcdTUzNDFcXHU1MTZCL2csICcxOCcpXG4gICAgLnJlcGxhY2UoL1xcdTUzNDFcXHU0RTVEL2csICcxOScpXG4gICAgLnJlcGxhY2UoL1xcdTRFOENcXHU1MzQxL2csICcyMCcpXG4gICAgLnJlcGxhY2UoL1xcdUZGMTJ8XFx1NEU4Qy9nLCAnMicpXG4gICAgLnJlcGxhY2UoL1xcdUZGMTN8XFx1NEUwOS9nLCAnMycpXG4gICAgLnJlcGxhY2UoL1xcdUZGMTR8XFx1NTZEQi9nLCAnNCcpXG4gICAgLnJlcGxhY2UoL1xcdUZGMTV8XFx1NEU5NC9nLCAnNScpXG4gICAgLnJlcGxhY2UoL1xcdUZGMTZ8XFx1NTE2RC9nLCAnNicpXG4gICAgLnJlcGxhY2UoL1xcdUZGMTd8XFx1NEUwMy9nLCAnNycpXG4gICAgLnJlcGxhY2UoL1xcdUZGMTh8XFx1NTE2Qi9nLCAnOCcpXG4gICAgLnJlcGxhY2UoL1xcdUZGMTl8XFx1NEU1RC9nLCAnOScpO1xufVxuXG5cbmZ1bmN0aW9uIGNsZWFuU3RyaW5nc0JlZm9yZURhdGVDaGVjayhzcmMpIHtcbiAgbGV0IHNvdXJjZSA9IHNyYztcblxuICAvLyByZXBsYWNlIGFsbCBkb3VibGUtYnl0ZSBudW1iZXJzIHdpdGggc2luZ2xlIGJ5dGUgdmVyc2lvbnNcbiAgc291cmNlID0gcmVwbGFjZUthbmppTnVtcyhzb3VyY2UpO1xuICAvLyByZW1vdmUgc3RyaW5ncyB0aGF0IHNob3VsZCBuZXZlciBiZSBpbnRlcnByZXRlZCBhcyBudW1iZXJzXG4gIHNvdXJjZSA9IGluaXRpYWxKUEZpbHRlcihzb3VyY2UpO1xuICAvLyBwYXJzZSBhbGwgZGF0ZXMgaW50byB0aGUgezIwMTctOS0yMX0gZm9ybWF0XG4gIC8vIFN0aWxsIG5lZWQgdG8gY29udmVydCB0aGluZ3MgaW50byAyLWRpZ2l0IGZvcm1hdFxuICBzb3VyY2UgPSByZXBsYWNlQWxsRnJvbUFycmF5KG9EYXRlRm9ybWF0cywgc291cmNlLCAnZ2knKTtcblxuICByZXR1cm4gc291cmNlO1xufVxuXG5cbi8qKiBSZXR1cm5zIGFuIGFycmF5IG9mIGFsbCB0aGUgbWF0Y2hlcyB0byB0aGUgZ2l2ZW4gcmVnZXguXG4gKiBJZiBwYXNzZWQgYW4gaW5pdGlhbCBhcnJheSwgaXQgcmV0dXJucyBpdCB3aXRoIHRoZSBuZXdcbiAqIG1hdGNoZXMgdGFja2VkIG9uIGF0IHRoZSBlbmRcbiAqIE5PVEU6IFRoaXMgZnVuY3Rpb24gY3VycmVudGx5IGFwcGVhcnMgdG8gZmFpbCB3aXRoIGxpdGVyYWxcbiAqIHJlZ2V4IGNvbnN0cnVjdG9ycy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgLSBUaGUgc3RyaW5nIHRvIHNlYXJjaFxuICogQHBhcmFtIHtSZWdFeHB9IHJlZ2V4IC0gVGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBleGVjdXRlXG4gKiBAcGFyYW0ge2FycmF5fSBhY2N1bXVsYXRvckFyciAtIEFkZHMgdGhlIG1hdGNoZXMgdG8gdGhlIGFycmF5IHByb3ZpZGVkXG4gKiBAcmV0dXJucyBBbiBhcnJheSBvZiBtYXRjaGVzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBtYXRjaFRvQXJyYXkoc3RyLCByZWdleCwgYWNjdW11bGF0b3JBcnIgPSBbXSkge1xuICBsZXQgbTtcbiAgZG8ge1xuICAgIG0gPSByZWdleC5leGVjKHN0cik7XG4gICAgaWYgKG0pIHsgYWNjdW11bGF0b3JBcnIucHVzaChtKTsgfVxuICB9IHdoaWxlIChtKTtcbiAgcmV0dXJuIGFjY3VtdWxhdG9yQXJyO1xufVxuXG5cbi8qKlxuICogRXh0cmFjdHMgZGF0ZXMgaW4gYSBzcGVjaWZpZWQgZm9ybWF0IGZyb20gdHdvIHN0cmluZ3MsIGFuZCBjb21wYXJlcyB0aGUgcmVzdWx0cy5cbiAqIFRoZSBkYXRlcyBtdXN0IGFwcGVhciBpbiB0aGUgZm9ybSB7WFhYWC1YWC1YWH0gb3Ige1hYWFgtWFgtWFggSEg6TU19LiBNb250aHMgY2FuIGJlXG4gKiBzaW5nbGUtIG9yIGRvdWJsZS1kaWdpdHMuXG4gKiBAcGFyYW0ge3N0cmluZ30gY2xlYW5Tb3VyY2UgLSBTZWdtZW50IHRleHQgd2l0aCBuYXR1cmFsIHRleHQgZGF0ZXMgY29udmVydGVkIGludG8gYnJhY2tldCBmb3JtYXQuXG4gKiBAcGFyYW0ge3N0cmluZ30gY2xlYW5UYXJnZXQgLSBTZWdtZW50IHRleHQgd2l0aCBuYXR1cmFsIHRleHQgZGF0ZXMgY29udmVydGVkIGludG8gYnJhY2tldCBmb3JtYXQuXG4gKiBAcmV0dXJucyB7Kn0gVGhlIDB0aCBlbGVtZW50IGluIHRoZSBhcnJheSBpcyB0aGUgcmVnZXggbWF0Y2hlcyBmcm9tIHRoZSBzb3VyY2UgdGV4dC5cbiAqIFRoZSAxc3QgZWxlbWVudCBpbiB0aGUgYXJyYXkgaXMgdGhlIHJlZ2V4IG1hdGNoZXMgZnJvbSB0aGUgdGFyZ2V0IHRleHQuXG4gKiBUaGUgMm5kIGVsZW1lbnQgaW4gdGhlIGFycmF5IGlzIGEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHR3byBhcnJheXMgYXJlIGlkZW50aWNhbCBvciBub3QuXG4gKi9cbmZ1bmN0aW9uIGV4dHJhY3REYXRlcyhzb3VyY2UpIHtcbiAgY29uc3QgcyA9ICd7WzAtOV17NH0tWzAtMV0/WzAtOV0tWzAtM10/WzAtOV19fHtbMC05XXs0fS1bMC0xXT9bMC05XS1bMC0zXT9bMC05XSBbMC0yXT9bMC05XTpbMC01XVswLTldW2FwXT9bbV0/fSc7XG4gIGNvbnN0IHJlID0gbmV3IFJlZ0V4cChzLCAnZ2knKTtcblxuICAvKiBQZXJmb3JtIHRoZSBSZWdFeHAuZXhlYyB0byBnZXQgdGhlIG1hdGNoZXNcbiAgLm1hcCBkaXNjYXJkcyBhbGwgdGhlIG1ldGFkYXRhIGFuZCBvbmx5IGxlYXZlcyB0aGUgbWF0Y2hlcyAqL1xuICByZXR1cm4gbWF0Y2hUb0FycmF5KHNvdXJjZSwgcmUpLm1hcCh4ID0+IHhbMF0pO1xufVxuXG5cbi8qKlxuICogQ29udmVydCAxMiBob3VyIGNsb2NrcyB0byAyNCBob3VyIGNsb2Nrcy5cbiAqIEBwYXJhbSB7Kn0gbWF0Y2ggLSBSZWdFeHAgbWF0Y2ggb2JqZWN0XG4gKiBAcGFyYW0ge051bWJlcn0gaG91clxuICogQHBhcmFtIHtOdW1iZXJ9IG1pbnV0ZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXJpZGlhbiAtIGFtJyBvciAncG0nLCBvciBhbiBlbXB0eSBzdHJpbmcuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiB0d2VudHlGb3VySG91cnMobWF0Y2gsIGhvdXIsIG1pbnV0ZXMsIG1lcmlkaWFuID0gJycpIHtcbiAgbGV0IGhyID0gTnVtYmVyKGhvdXIpO1xuICBjb25zdCBtaW4gPSBOdW1iZXIobWludXRlcyk7XG4gIGNvbnN0IG1lciA9IG1lcmlkaWFuLnRvTG93ZXJDYXNlKCk7XG5cbiAgaWYgKGhyID09PSAxMiAmJiBtZXIgPT09ICdhbScpIHtcbiAgICBociA9IDA7XG4gIH1cbiAgaWYgKGhyIDwgMTIgJiYgbWVyID09PSAncG0nKSB7XG4gICAgaHIgKz0gMTI7XG4gIH1cblxuICBsZXQgc0hyID0gaHIudG9TdHJpbmcoKTtcbiAgbGV0IHNNaW4gPSBtaW4udG9TdHJpbmcoKTtcblxuICBpZiAoaHIgPCAxMCkgeyBzSHIgPSBgMCR7c0hyfWA7IH1cbiAgaWYgKG1pbiA8IDEwKSB7IHNNaW4gPSBgMCR7c01pbn1gOyB9XG5cbiAgcmV0dXJuIGAke3NIcn06JHtzTWlufWA7XG59XG5cblxuLyoqXG4gKiBDb252ZXJ0cyB0aW1lcyBpbiB0aGUgdGV4dCBmcm9tIDEyIGhvdXIgZm9ybWF0IGludG8gMjQgaG91ciBmb3JtYXQsXG4gKiBhY2NvdW50aW5nIGZvciBcImFtL3BtXCIgaW1tZWRpYXRlbHkgZm9sbG93aW5nIHRoZSB0aW1lIGRpc3BsYXkuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIC0gVGV4dCBjb250YWluaW5nIHRpbWVzXG4gKiBAcmV0dXJucyBBIG5ldyBzdHJpbmcgd2l0aCB0aGUgdGltZXMgcmVwbGFjZWRcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNvbnZlcnRUb1R3ZW50eUZvdXJIb3VyQ2xvY2socykge1xuICByZXR1cm4gcy5yZXBsYWNlKC8oWzAtMl0/WzAtOV0pOihbMC01XVswLTldKShbYXBdbSk/L2dpLCB0d2VudHlGb3VySG91cnMpO1xufVxuXG5cbi8qKlxuICogUGlwZXMgYSBzdHJpbmcgdGhyb3VnaCBhIHNlcmllcyBvZiB0cmFuc2Zvcm1hdGlvbnMgYW5kIGZpbHRlcnNcbiAqIHRvIHJlZHVjZSBpdCBkb3duIHRvIGFuIGFycmF5IG9mIGRhdGVzIGluIHRoZSB7MjAxOC0wOS0yMX0gZm9ybWF0XG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIHRoZSB0ZXh0IHRvIHBhcnNlXG4gKi9cbmZ1bmN0aW9uIHBhcnNlRGF0ZXModGV4dCkge1xuICBjb25zdCBjbGVhbmVkID0gY2xlYW5TdHJpbmdzQmVmb3JlRGF0ZUNoZWNrKHRleHQpO1xuICBjb25zdCBleHRyYWN0ZWQgPSBleHRyYWN0RGF0ZXMoY2xlYW5lZCk7XG4gIGNvbnN0IGlzb2Zvcm1hdHRlZCA9IGV4dHJhY3RlZC5tYXAoY29udmVydFRvVHdlbnR5Rm91ckhvdXJDbG9jayk7XG4gIHJldHVybiBpc29mb3JtYXR0ZWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHBhcnNlRGF0ZXM7XG4iLCIvKiBnbG9iYWwgZG9jdW1lbnQgKi9cblxuaW1wb3J0IHBhcnNlRGF0ZXMgZnJvbSAnLi9wYXJzZURhdGVzJztcblxuY2xhc3MgVGVybUxpc3Qge1xuICBjb25zdHJ1Y3Rvcihmb3JtYXQpIHtcbiAgICB0aGlzLmxpc3QgPSB7fTtcbiAgICB0aGlzLmRhdGVGb3JtYXQgPSBmb3JtYXQ7XG4gIH1cblxuICAvLyBHZXQgZGF0ZXMgZnJvbSB0aGUgc291cmNlIHRleHRcbiAgYWRkU2VnbWVudChzZWdtZW50TnVtKSB7XG4gICAgLy8gU2luY2UgdGhlIHNvdXJjZSB0ZXh0IGRvZXMgbm90IGNoYW5nZSBkeW5hbWljYWxseSwgd2UgZG9uJ3QgbmVlZCB0byByZS1wcm9jZXNzXG4gICAgLy8gYSBzZWdtZW50IGFmdGVyIGl0IGhhcyBiZWVuIHBhcnNlZCBhbmQgYWRkZWQgdG8gdGhlIGxpc3RcbiAgICBpZiAodGhpcy5saXN0W3NlZ21lbnROdW1dKSByZXR1cm47XG5cbiAgICAvLyBncmFiIGEgcmVmZXJlbmNlIHRvIHRoZSBzb3VyY2UgdGV4dCB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZVxuICAgIC8vIGNob3NlbiBzZWdtZW50IGFuZCBwYXJzZSB0aGUgdGV4dCB0byBmaW5kIHdoYXQgZGF0ZXMgYXJlIGluc2lkZVxuICAgIGNvbnN0IHNyYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBzb3VyY2VDb250ZW50JHtzZWdtZW50TnVtfWApO1xuICAgIGNvbnN0IGRhdGVzID0gcGFyc2VEYXRlcyhzcmMuaW5uZXJUZXh0KTtcblxuICAgIGRhdGVzXG4gICAgICAubWFwKCh4KSA9PiB0aGlzLmRhdGVGb3JtYXR0ZXIoeCkpXG4gICAgICAuZm9yRWFjaCgoZGF0ZSkgPT4geyB0aGlzLmFkZFRlcm0oc2VnbWVudE51bSwgZGF0ZSk7IH0pO1xuICB9XG5cbiAgLy8gQWRkcyBhIHNpbmdsZSB0ZXJtIHRvIHRoZSB0ZXJtIGFycmF5XG4gIGFkZFRlcm0oc2VnbWVudE51bSwgdGVybSkge1xuICAgIC8vIEVuc3VyZSB0aGF0IGEgZGljdGlvbmFyeSBlbnRyeSBleGlzdHMgZm9yIHRoZSBzZWdtZW50IG51bWJlclxuICAgIGlmICghdGhpcy5saXN0W3NlZ21lbnROdW1dKSB0aGlzLmxpc3Rbc2VnbWVudE51bV0gPSBbXTtcblxuICAgIC8vIEF2b2lkIGR1cGxpY2F0ZSBlbnRyaWVzXG4gICAgaWYgKHRoaXMubGlzdFtzZWdtZW50TnVtXS5pbmRleE9mKHRlcm0pID09PSAtMSkgdGhpcy5saXN0W3NlZ21lbnROdW1dLnB1c2godGVybSk7XG4gIH1cblxuICBkYXRlRm9ybWF0dGVyKGQpIHtcbiAgICAvLyBDbG9zdXJlXG4gICAgY29uc3QgciA9ICguLi5hcmdzKSA9PiB0aGlzLmRhdGVGb3JtYXQucmVwbGFjZXIoLi4uYXJncyk7XG4gICAgcmV0dXJuIGQucmVwbGFjZSgveyhcXGR7NH0pLShbMC0yXT9bMC05XSktKFsxLTNdP1swLTldKSg/OiAoWzAtMl0/WzAtOV0pOihbMC01XVswLTldKSk/fS8sIHIpO1xuICB9XG5cblxuICAvLyBSZXR1cm5zIHRoZSBhcnJheSBmb3IgYSBnaXZlbiBzZWdtZW50IChlbXB0eSBhcnJheSBpZiBub25lIGV4aXN0cylcbiAgZ2V0U2VnbWVudEFycmF5KG51bSkge1xuICAgIHJldHVybiB0aGlzLmxpc3RbbnVtXSB8fCBbXTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUZXJtTGlzdDtcbiIsIi8qIGdsb2JhbCB3aW5kb3cgKi9cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBwb3NpdGlvbiBvZiB0aGUgY2FyZXQgaW4gdGVybXMgb2YgaXRzIGRpc3RhbmNlIGZyb20gdGhlIHN0YXJ0XG4gKiBvZiB0aGUgY3VycmVudGx5IGZvY3VzZWQgZWxlbWVudC5cbiAqIFRoaXMgZnVuY3Rpb24gaXMgbm90IGNyb3NzLWJyb3dzZXIgY29tcGF0aWJsZS5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGdldENhcmV0UG9zaXRpb24oKSB7XG4gIGNvbnN0IHJhbmdlID0gd2luZG93LmdldFNlbGVjdGlvbigpLmdldFJhbmdlQXQoMCk7XG4gIGNvbnN0IHNlbGVjdGVkT2JqID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICBsZXQgcmFuZ2VDb3VudCA9IDA7XG4gIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSAqL1xuICBjb25zdCBjaGlsZE5vZGVzID0gc2VsZWN0ZWRPYmouYW5jaG9yTm9kZS5wYXJlbnROb2RlLmNoaWxkTm9kZXM7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGROb2Rlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmIChjaGlsZE5vZGVzW2ldID09PSBzZWxlY3RlZE9iai5hbmNob3JOb2RlKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKGNoaWxkTm9kZXNbaV0ub3V0ZXJIVE1MKSByYW5nZUNvdW50ICs9IGNoaWxkTm9kZXNbaV0ub3V0ZXJIVE1MLmxlbmd0aDtcbiAgICBlbHNlIGlmIChjaGlsZE5vZGVzW2ldLm5vZGVUeXBlID09PSAzKSB7XG4gICAgICByYW5nZUNvdW50ICs9IGNoaWxkTm9kZXNbaV0udGV4dENvbnRlbnQubGVuZ3RoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmFuZ2Uuc3RhcnRPZmZzZXQgKyByYW5nZUNvdW50O1xufVxuXG5cbi8qKlxuICogQSByZXByZXNlbnRhdGlvbiBvZiB0aGUgdGV4dCBjYXJldC5cbiAqIEluY2x1ZGVzIGNsYXNzIG1ldGhvZHMgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHVzZXIgaXMgY3VycmVudGx5IHR5cGluZyBhXG4gKiB3b3JkIG9yIG5vdCwgYW5kIHRoZSBwb3NpdGlvbiBvZiB0aGUgY2FyZXQgcmVsYXRpdmUgdG8gdGhlIHRleHQgc3RyaW5nIGl0XG4gKiBpcyBpbi5cbiAqL1xuY2xhc3MgQ2FyZXQge1xuICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLmNhcmV0UG9zaXRpb24gPSBnZXRDYXJldFBvc2l0aW9uKGVsZW1lbnQpO1xuICAgIHRoaXMuY3VycmVudFdvcmQgPSB0aGlzLmdldEN1cnJlbnRXb3JkKHRoaXMuZWxlbWVudENvbnRlbnQoKSwgdGhpcy5jYXJldFBvc2l0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBYnN0cmFjdGlvbiBmb3IgcmV0cmlldmluZyB0aGUgdGV4dCBjb250ZW50IG9mIHRoZSBjdXJyZW50IGVsZW1lbnRcbiAgICovXG4gIGVsZW1lbnRDb250ZW50KCkge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnQudmFsdWUgfHwgdGhpcy5lbGVtZW50LmlubmVyVGV4dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgd29yZCB0aGF0IHRoZSB1c2VyIGlzIGN1cnJlbnRseSB0eXBpbmcuXG4gICAqIE5vdGU6IFNvbWUgaXNzdWVzIGV4aXN0IHdpdGggbGVhZGluZyBhbmQgdHJhaWxpbmcgc3BhY2VzLlxuICAgKi9cbiAgZ2V0Q3VycmVudFdvcmQodGV4dCwgY2FyZXRQb3NpdGlvbikge1xuICAgIGNvbnN0IHNwYWNlID0gdGhpcy5nZXRXb3JkQm91bmRhcnkodGV4dCwgY2FyZXRQb3NpdGlvbik7XG4gICAgcmV0dXJuIHRleHQuc2xpY2Uoc3BhY2UsIGNhcmV0UG9zaXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGluZGV4IG9mIGxlZnRtb3N0IGNoYXJhY3RlciBvZlxuICAgKiB0aGUgd29yZCB0aGUgdXNlciBpcyBjdXJyZW50bHkgdHlwaW5nLlxuICAgKi9cbiAgZ2V0V29yZEJvdW5kYXJ5KHRleHQsIGNhcmV0UG9zaXRpb24pIHtcbiAgICBjb25zdCBwb2ludGVyID0gY2FyZXRQb3NpdGlvbiAtIDE7XG4gICAgaWYgKHBvaW50ZXIgPCAwIHx8IHRleHRbcG9pbnRlcl0gPT09ICcgJykgcmV0dXJuIHBvaW50ZXIgKyAxO1xuICAgIHJldHVybiB0aGlzLmdldFdvcmRCb3VuZGFyeSh0ZXh0LCBwb2ludGVyKTtcbiAgfVxuXG4gIGlzTWlkV29yZCgpIHtcbiAgICBjb25zdCB4ID0gdGhpcy5lbGVtZW50Q29udGVudCgpLmNoYXJBdCh0aGlzLmNhcmV0UG9zaXRpb24pO1xuICAgIHJldHVybiAhISh4ICYmIHggIT09ICcgJyk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FyZXQ7XG4iLCIvKiBnbG9iYWwgd2luZG93LCBkb2N1bWVudCAqL1xuXG5pbXBvcnQgQ2FyZXQgZnJvbSAnLi9DYXJldCc7XG5cbi8qKlxuICogQ2xpY2tpbmcgYW55d2hlcmUgb24gdGhlIHNjcmVlbiBjYXVzZXNcbiAqIHRoZSBzdWdnZXN0aW9ucyBwYW5lbCB0byBkaXNhcHBlYXIuXG4gKiBAcGFyYW0geyp9IHBhbmVsXG4gKi9cbmZ1bmN0aW9uIGNsaWNrSGFuZGxlcihwYW5lbCkge1xuICBwYW5lbC5oaWRlKCk7XG59XG5cblxuZnVuY3Rpb24gaW5zZXJ0U3VmZml4KHRleHQsIHN1ZmZpeCwgY2FyZXQpIHtcbiAgY29uc3QgcG9zID0gY2FyZXQuY2FyZXRQb3NpdGlvbjtcbiAgcmV0dXJuIHRleHQuc3Vic3RyKDAsIHBvcykgKyBzdWZmaXggKyB0ZXh0LnN1YnN0cihwb3MpO1xufVxuXG5cbmZ1bmN0aW9uIHJlcGxhY2VFbGVtZW50VGV4dFdpdGhBdXRvY29tcGxldGVkVGV4dChub2RlLCBwYW5lbCwgY2FyZXQpIHtcbiAgLy8gaW5uZXJUZXh0IHdpbGwgdXN1YWxseSBiZSB0aGUgY29ycmVjdCBjaG9pY2VcbiAgLy8gc2luY2UgWFRNIHVzZXMgcCBlbGVtZW50c1xuICBjb25zdCB0eHRQcm9wID0gbm9kZS52YWx1ZSA/ICd2YWx1ZScgOiAnaW5uZXJUZXh0JztcblxuICAvLyBTaW5jZSB0aGUgdXNlciBoYXMgYWxyZWFkeSB0eXBlZCBpbiBwYXJ0IG9mIHRoZSB0ZXJtLFxuICAvLyByZXRyaWV2ZSB0aGUgcmVtYWluaW5nIHBhcnQgdGhhdCB0aGV5IGhhdmVuJ3QgeWV0IHR5cGVkIGluLFxuICAvLyB0aGVuIHB1dCBpdCBpbnRvIHRoZSBpbnB1dCBlbGVtZW50XG4gIGNvbnN0IHN1ZmZpeCA9IHBhbmVsLmdldFN1ZmZpeCgpO1xuICBub2RlW3R4dFByb3BdID0gaW5zZXJ0U3VmZml4KG5vZGVbdHh0UHJvcF0sIHN1ZmZpeCwgY2FyZXQpO1xuICBwYW5lbC5oaWRlKCk7XG5cbiAgLy8gUmVwb3NpdGlvbiB0aGUgY3Vyc29yIGJlY2F1c2UgaXQgZ2V0cyBtb3ZlZCBiYWNrIHRvIHBvc2l0aW9uIDAgYnkgZGVmYXVsdFxuICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgY29uc3QgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgIHJhbmdlLnNldFN0YXJ0KG5vZGUuY2hpbGROb2Rlc1swXSwgY2FyZXQuY2FyZXRQb3NpdGlvbiArIHN1ZmZpeC5sZW5ndGgpO1xuICAgIHJhbmdlLmNvbGxhcHNlKHRydWUpO1xuXG4gICAgY29uc3Qgc2VsID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICBzZWwuYWRkUmFuZ2UocmFuZ2UpO1xuICB9LCA1KTtcbn1cblxuXG4vKipcbiAqIEhhbmRsZXIgZm9yIHNwZWNpZmljIGtleXByZXNzZXMgdGhhdCBkbyBub3QgY291bnQgYXMgXCJpbnB1dFwiIGludG8gdGhlXG4gKiB0YXJnZXQgdGV4dCBlbGVtZW50LlxuICogUHJpbWFyaWx5IHVzZWQgdG8gcHJldmVudERlZmF1bHQgb24gdGhlIFRhYiBrZXkgYW5kIGluc2VydCB0aGVcbiAqIHN1Z2dlc3RlZCB0ZXh0IGludG8gdGhlIGVsZW1lbnQuXG4gKiBAcGFyYW0geyp9IGUgLSBFdmVudFxuICovXG5mdW5jdGlvbiBrZXlEb3duSGFuZGxlcihlLCBwYW5lbCwgY2FyZXQpIHtcbiAgLy8gSGFuZGxlcyB1c2VyIGNsaWNraW5nIHNwZWNpZmljIGtleXNcbiAgY29uc3Qgbm9kZSA9IGUuY3VycmVudFRhcmdldDtcblxuICAvLyBBcnJvdyBrZXlzXG4gIGlmIChlLmtleUNvZGUgPj0gMzcgJiYgZS5rZXlDb2RlIDw9IDQwKSB7XG4gICAgcGFuZWwuaGlkZSgpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFRhYiBrZXlcbiAgaWYgKGUua2V5Q29kZSA9PT0gOSAmJiBwYW5lbC5pc1Zpc2libGUoKSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICByZXBsYWNlRWxlbWVudFRleHRXaXRoQXV0b2NvbXBsZXRlZFRleHQobm9kZSwgcGFuZWwsIGNhcmV0KTtcbiAgfVxufVxuXG5cbi8qKlxuICogQ2xvc2VzIGFueSBleGlzdGluZyBwYW5lbHMsIHRoZW4gdXBkYXRlcyB0aGUgZ2xvYmFsIHRlcm1zIG9iamVjdCB3aXRoIHRoZVxuICogdGVybXMgZm91bmQgaW4gdGhlIHNvdXJjZSB0ZXh0IHdoZW4gYSBuZXcgc2VnbWVudCBoYXMgYmVlbiBmb2N1c2VkLlxuICogVE9ETzogUmVmYWN0b3IuIEJ1aWxkIHRoZSBlbnRpcmUgdGVybSBsaXN0IGFzIHNvb24gYXMgdGhlIHBhZ2UgbG9hZHMsIHRoZW5cbiAqIHRoZSBpbnB1dEhhbmRsZXIgY2FuIHNpbXBseSByZXRyaWV2ZSB0aGUgYXJyYXkgaXQgbmVlZHMsIGFuZCB0aGlzXG4gKiBmdW5jdGlvbiBjYW4gYmUgcmVkdWNlZCB0byBqdXN0IGhpZGluZyB0aGUgcGFuZWwuXG4gKi9cbmZ1bmN0aW9uIGZvY3VzSGFuZGxlcihlLCBwYW5lbCwgdGVybWxpc3QpIHtcbiAgcGFuZWwuaGlkZSgpO1xuICBjb25zdCBpZG51bSA9IE51bWJlcihlLmN1cnJlbnRUYXJnZXQuaWQuc2xpY2UoNykpO1xuICB0ZXJtbGlzdC5hZGRTZWdtZW50KGlkbnVtKTtcbiAgcmV0dXJuIHRlcm1saXN0LmdldFNlZ21lbnRBcnJheShpZG51bSk7XG59XG5cblxuLy8gcmV0dXJucyB0aGUgZmlyc3QgdGVybSBvZiB3aGljaCB0aGUgY3VycmVudCB3b3JkXG4vLyBpcyBhIHBhcnRpYWwgbWF0Y2guIFJldHVybnMgbnVsbCBpZiBubyB3b3JkIGlzIG1hdGNoZWQuXG5mdW5jdGlvbiBtYXRjaGVzVGVybSh3b3JkLCB0ZXJtcykge1xuICBjb25zdCBlc2NhcGVkID0gd29yZC5yZXBsYWNlKC9bLVtcXF17fSgpKis/LixcXFxcXiR8I1xcc10vZywgJ1xcXFwkJicpO1xuICBjb25zdCByZSA9IG5ldyBSZWdFeHAoYF4ke2VzY2FwZWR9YCk7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXJtcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IHRlcm0gPSB0ZXJtc1tpXTtcbiAgICAvLyBjaGVjayBmb3Igc3RyaWN0IGVxdWFsaXR5IHNvIHRoYXQgdGhlIHBhbmVsXG4gICAgLy8gZGlzYXBwZWFycyB3aGVuIHRoZSBlbnRpcmUgd29yZCBoYXMgYmVlbiB3cml0dGVuXG4gICAgaWYgKHJlLnRlc3QodGVybSkgJiYgd29yZCAhPT0gdGVybSkgcmV0dXJuIHRlcm07XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cblxuZnVuY3Rpb24gYXV0b2NvbXBsZXRlUG9wdXAoZWxlbWVudCwgdGVybXMsIGN1cnJlbnRXb3JkLCBwYW5lbCkge1xuICBpZiAoY3VycmVudFdvcmQubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IG1hdGNoZWRUZXJtID0gbWF0Y2hlc1Rlcm0oY3VycmVudFdvcmQsIHRlcm1zKTtcbiAgICBpZiAobWF0Y2hlZFRlcm0pIHtcbiAgICAgIHBhbmVsLmZvdW5kVGVybShlbGVtZW50LCBjdXJyZW50V29yZCwgbWF0Y2hlZFRlcm0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYW5lbC5oaWRlKCk7XG4gICAgfVxuICB9XG59XG5cblxuLyoqXG4gKiBIYW5kbGVzIHVzZXIgaW5wdXQgb2YgdGV4dCBpbnRvIGFuIGVsZW1lbnQuXG4gKiBAcGFyYW0geyp9IGUgLSBJbnB1dCBldmVudFxuICovXG5mdW5jdGlvbiBpbnB1dEhhbmRsZXIoZSwgcGFuZWwsIGNhcmV0LCB0ZXJtcykge1xuICAvLyBDbG9zZSB0aGUgcG9wdXAgYW5kIHNob3J0LWNpcmN1aXQgaWYgZGVsZXRpbmcgdGhlIGxhc3QgY2hhcmFjdGVyXG4gIGNvbnN0IGVsZW1lbnRDb250ZW50ID0gZS5jdXJyZW50VGFyZ2V0LnZhbHVlIHx8IGUuY3VycmVudFRhcmdldC5pbm5lclRleHQ7XG4gIGlmICghZWxlbWVudENvbnRlbnQpIHtcbiAgICBwYW5lbC5oaWRlKCk7XG4gICAgcmV0dXJuIGNhcmV0O1xuICB9XG5cbiAgLy8gVHJhY2sgdGhlIHBvc2l0aW9uIG9mIHRoZSBjYXJldCBhbmQgdGhlIGN1cnJlbnQgd29yZCBiZWluZyB0eXBlZFxuICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgKi9cbiAgY2FyZXQgPSBuZXcgQ2FyZXQoZS5jdXJyZW50VGFyZ2V0KTtcblxuICAvLyBDaGVjayBpZiB0aGUgdXNlciBpcyBjdXJyZW50bHkgaW4gYmV0d2VlbiB0d28gbGV0dGVycyxcbiAgLy8gaW5kaWNhdGluZyB0aGF0IHRoZXkgYXJlIGVkaXRpbmcgYSB3b3JkIGFuZCB0aHVzIGRvXG4gIC8vIG5vdCBuZWVkIGF1dG9jb21wbGV0ZSBzdWdnZXN0aW9uc1xuICBpZiAoIWNhcmV0LmlzTWlkV29yZCgpICYmIGNhcmV0LmN1cnJlbnRXb3JkLmxlbmd0aCA+IDApIHtcbiAgICBhdXRvY29tcGxldGVQb3B1cChlLmN1cnJlbnRUYXJnZXQsIHRlcm1zLCBjYXJldC5jdXJyZW50V29yZCwgcGFuZWwpO1xuICB9IGVsc2UgaWYgKGNhcmV0LmN1cnJlbnRXb3JkLmxlbmd0aCA8IDEpIHtcbiAgICBwYW5lbC5oaWRlKCk7XG4gIH1cblxuICByZXR1cm4gY2FyZXQ7XG59XG5cblxuZXhwb3J0IHtcbiAgY2xpY2tIYW5kbGVyLFxuICBmb2N1c0hhbmRsZXIsXG4gIGlucHV0SGFuZGxlcixcbiAga2V5RG93bkhhbmRsZXIsXG59O1xuIiwiLyoqXG4gKiBCYXNlIGludGVyZmFjZSB0aGF0IGRhdGUgZm9ybWF0IG9iamVjdHMgbmVlZCB0byBpbXBsZW1lbnQuXG4gKiBUaGUgcmVzdCBvZiB0aGlzIGZpbGUgc2hvd3Mgc29tZSBleGFtcGxlcyBvZiBob3cgdGhlIHJlZ2V4IG1hdGNoZXNcbiAqIGNhbiBiZSBtYW5pcHVsYXRlZCB0byBnZW5lcmF0ZSBkaWZmZXJlbnQgb3V0cHV0cy5cbiAqL1xuY2xhc3MgSURhdGVGb3JtYXQge1xuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gdG8gYSBzdHJpbmcucmVwbGFjZSBmdW5jdGlvbi5cbiAgICogUmVjaWV2ZXMgYW4gYXJiaXRyYXJ5IHNldCBvZiBhcmd1bWVudHMgZGVwZW5kaW5nIG9uIGhvdyBtYW55XG4gICAqIHN1Ym1hdGNoZXMgd2VyZSBmb3VuZCBpbiB0aGUgdGFyZ2V0IHN0cmluZy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG1hdGNoIC0gU3RyaW5nIG1hdGNoaW5nIHRoZSByZWdleCBwYXR0ZXJuLlxuICAgKiBUaGlzIHdpbGwgaGF2ZSB0aGUgZm9ybSB7MjAxOC05LTIxfSBmb3IgZGF0ZXMsIGFuZCB7MjAxOS05LTIxIDIzOjU5fVxuICAgKiBmb3IgZGF0ZXMgd2l0aCB0aW1lcy5cbiAgICogQHJldHVybnMge3N0cmluZ30gVGV4dCB0byBkaXNwbGF5IGFzIGFuIGF1dG9jb21wbGV0ZSBzdWdnZXN0aW9uXG4gICAqL1xuICByZXBsYWNlcihtYXRjaCwgLi4uc3VibWF0Y2hlcykge1xuICAgIHJldHVybiAnJztcbiAgfVxufVxuXG5jbGFzcyBCYXNpY1Nob3J0TW9udGggZXh0ZW5kcyBJRGF0ZUZvcm1hdCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5kYXRlQW5kVGltZSA9ICdoaDptbSwgTU0gREQnO1xuICAgIHRoaXMuZGF0ZU9ubHkgPSAnTU0gREQnO1xuICAgIHRoaXMubW9udGhzID0ge1xuICAgICAgMTogJ0phbi4nLFxuICAgICAgMjogJ0ZlYi4nLFxuICAgICAgMzogJ01hci4nLFxuICAgICAgNDogJ0Fwci4nLFxuICAgICAgNTogJ01hci4nLFxuICAgICAgNjogJ0p1bi4nLFxuICAgICAgNzogJ0p1bC4nLFxuICAgICAgODogJ0F1Zy4nLFxuICAgICAgOTogJ1NlcC4nLFxuICAgICAgMTA6ICdPY3QuJyxcbiAgICAgIDExOiAnTm92LicsXG4gICAgICAxMjogJ0RlYy4nLFxuICAgIH07XG4gIH1cblxuICByZXBsYWNlcihtYXRjaCwgLi4uc3VibWF0Y2hlcykge1xuICAgIGNvbnN0IGluY2x1ZGVzVGltZSA9IG1hdGNoLmxlbmd0aCA+IDExO1xuICAgIGlmIChpbmNsdWRlc1RpbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlcGxhY2VEYXRlVGltZShzdWJtYXRjaGVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucmVwbGFjZURhdGVPbmx5KHN1Ym1hdGNoZXMpO1xuICB9XG5cbiAgcmVwbGFjZURhdGVPbmx5KHN1Ym1hdGNoZXMpIHtcbiAgICBjb25zdCBbLCBtb250aCwgZGF5XSA9IHN1Ym1hdGNoZXM7XG4gICAgcmV0dXJuIHRoaXMuZGF0ZU9ubHlcbiAgICAgIC5yZXBsYWNlKCdNTScsIHRoaXMubW9udGhzW21vbnRoXSlcbiAgICAgIC5yZXBsYWNlKCdERCcsIGRheSk7XG4gIH1cblxuICByZXBsYWNlRGF0ZVRpbWUoc3VibWF0Y2hlcykge1xuICAgIGNvbnN0IFssIG1vbnRoLCBkYXksIGhyLCBtaW5dID0gc3VibWF0Y2hlcztcbiAgICByZXR1cm4gdGhpcy5kYXRlQW5kVGltZVxuICAgICAgLnJlcGxhY2UoJ01NJywgdGhpcy5tb250aHNbbW9udGhdKVxuICAgICAgLnJlcGxhY2UoJ0REJywgZGF5KVxuICAgICAgLnJlcGxhY2UoJ2hoJywgaHIpXG4gICAgICAucmVwbGFjZSgnbW0nLCBtaW4pO1xuICB9XG59XG5cbmNsYXNzIEJhc2ljTG9uZ01vbnRoIGV4dGVuZHMgQmFzaWNTaG9ydE1vbnRoIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm1vbnRocyA9IHtcbiAgICAgIDE6ICdKYW51YXJ5JyxcbiAgICAgIDI6ICdGZWJydWFyeScsXG4gICAgICAzOiAnTWFyY2gnLFxuICAgICAgNDogJ0FwcmlsJyxcbiAgICAgIDU6ICdNYXJjaCcsXG4gICAgICA2OiAnSnVuZScsXG4gICAgICA3OiAnSnVseScsXG4gICAgICA4OiAnQXVndXN0JyxcbiAgICAgIDk6ICdTZXB0ZW1iZXInLFxuICAgICAgMTA6ICdPY3RvYmVyJyxcbiAgICAgIDExOiAnTm92ZW1iZXInLFxuICAgICAgMTI6ICdEZWNlbWJlcicsXG4gICAgfTtcbiAgfVxufVxuXG5jbGFzcyBTaG9ydE1vbnRoQU1QTSBleHRlbmRzIEJhc2ljU2hvcnRNb250aCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5kYXRlQW5kVGltZSA9ICdoaDptbVBQLCBNTSBERCc7XG4gIH1cblxuICByZXBsYWNlRGF0ZVRpbWUoc3VibWF0Y2hlcykge1xuICAgIGNvbnN0IFssIG1vbnRoLCBkYXksIGhyLCBtaW5dID0gc3VibWF0Y2hlcztcblxuICAgIGxldCBhbXBtID0gJ2FtJztcbiAgICBsZXQgaG91ciA9IHBhcnNlSW50KGhyLCAxMCk7XG4gICAgaWYgKGhvdXIgPiAxMSkge1xuICAgICAgaG91ciAtPSAxMjtcbiAgICAgIGFtcG0gPSAncG0nO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmRhdGVBbmRUaW1lXG4gICAgICAucmVwbGFjZSgnTU0nLCB0aGlzLm1vbnRoc1ttb250aF0pXG4gICAgICAucmVwbGFjZSgnREQnLCBkYXkpXG4gICAgICAucmVwbGFjZSgnaGgnLCBob3VyLnRvU3RyaW5nKCkpXG4gICAgICAucmVwbGFjZSgnbW0nLCBtaW4pXG4gICAgICAucmVwbGFjZSgnUFAnLCBhbXBtKTtcbiAgfVxufVxuXG5jb25zdCBiYXNpY1Nob3J0TW9udGggPSBuZXcgQmFzaWNTaG9ydE1vbnRoKCk7XG5jb25zdCBiYXNpY0xvbmdNb250aCA9IG5ldyBCYXNpY0xvbmdNb250aCgpO1xuY29uc3Qgc2hvcnRNb250aEFNUE0gPSBuZXcgU2hvcnRNb250aEFNUE0oKTtcblxuZXhwb3J0IHtcbiAgYmFzaWNTaG9ydE1vbnRoLFxuICBiYXNpY0xvbmdNb250aCxcbiAgc2hvcnRNb250aEFNUE0sXG59O1xuIiwiLyogZ2xvYmFsIHdpbmRvdywgZG9jdW1lbnQgKi9cblxuaW1wb3J0IFBhbmVsIGZyb20gJy4vUGFuZWwnO1xuaW1wb3J0IFRlcm1MaXN0IGZyb20gJy4vVGVybUxpc3QnO1xuaW1wb3J0IHtcbiAgY2xpY2tIYW5kbGVyLFxuICBmb2N1c0hhbmRsZXIsXG4gIGlucHV0SGFuZGxlcixcbiAga2V5RG93bkhhbmRsZXIsXG59IGZyb20gJy4vaGFuZGxlcnMnO1xuaW1wb3J0IHtcbiAgYmFzaWNTaG9ydE1vbnRoLFxuICBiYXNpY0xvbmdNb250aCxcbiAgc2hvcnRNb250aEFNUE0sXG4gIH0gZnJvbSAnLi9EYXRlRm9ybWF0cyc7XG5cbi8qKlxuICogU3RvcmVzIHRoZSB0ZXJtcyB0aGF0IGNhbiBhcHBlYXIgYXMgc3VnZ2VzdGlvbnMgaW4gdGhlIHBvcC11cCBkaXYuXG4gKiBUaGlzIGlzIHNjb3BlZCBhcyBhIG1vZHVsZS1sZXZlbCB2YXJpYWJsZSBzbyB0aGF0IHdlIGRvbid0IG5lZWQgdG9cbiAqIHJlLXByb2Nlc3MgZWFjaCBzZWdtZW50J3Mgc291cmNlIHRleHQgZXZlcnkgdGltZSB3ZSBlbnRlciBhIG5ldyBzZWdtZW50LlxuICogQGV4YW1wbGVcbiAqIHRlcm1saXN0LnRlcm1zID0ge1xuICogICAwOiBbJ0p1bHkgMycsICc3LzMnXSxcbiAqICAgMTogW10sXG4gKiAgIDI6IFsnMTI6MzAsIEp1bHkgNCcsICc3LzMgMTI6MzAnXVxuICogfVxuICovXG5sZXQgdGVybWxpc3QgPSBuZXcgVGVybUxpc3QoYmFzaWNTaG9ydE1vbnRoKTtcblxuXG4vKipcbiAqIENvbnRhaW5lciBmb3IgYSBkaXYgZWxlbWVudCB0aGF0IHdpbGwgYmUgdXNlZCB0byBkaXNwbGF5IHRoZVxuICogYXV0b2NvbXBsZXRlIHN1Z2dlc3Rpb25zLlxuICovXG5jb25zdCBwYW5lbCA9IG5ldyBQYW5lbCgpO1xuXG5cbi8qKlxuICogTGlzdCBvZiBzdWdnZXN0aW9ucyB0byBkaXNwbGF5IHdoZW4gaW5wdXR0aW5nIHRleHQgaW50byBhbiBlbGVtZW50LlxuICovXG5sZXQgdGVybXMgPSBbXTtcblxuLyoqXG4gKiBUaGUgcG9zaXRpb24gb2YgdGhlIHRleHQgY2FyZXQgaXMgdHJhY2tlZCB3aXRoIGV2ZXJ5IGlucHV0IGludG8gYVxuICogdGFyZ2V0IHRleHQgZWxlbWVudC4gSXQgaXMgc2NvcGVkIGhlcmUgYmVjYXVzZSBpdCBuZWVkcyB0byBiZSBzaGFyZWRcbiAqIHdpdGggdGhlIGtleURvd25IYW5kbGVyIHNvIHRoZSBUYWIga2V5IGNhbiBwZXJmb3JtIHRoZSBhdXRvY29tcGxldGUuXG4gKi9cbmxldCBjYXJldDtcblxuXG4vKipcbiAqIFJldHVybnMgdGhlIGRlcHRoIG9mIHRoZSBjdXJyZW50IGZyYW1lIHJlbGF0aXZlIHRvIHdpbmRvdy50b3BcbiAqIEBwYXJhbSB7b2JqZWN0fSB3aW5Ub0lEIC0gV2luZG93IGVsZW1lbnQgd2hvc2UgZGVwdGggaXMgdG8gYmUgY2FsY3VsYXRlZFxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbmZ1bmN0aW9uIGdldEZyYW1lRGVwdGgod2luVG9JRCkge1xuICByZXR1cm4gd2luVG9JRCA9PT0gd2luZG93LnRvcCA/IDAgOiAxICsgZ2V0RnJhbWVEZXB0aCh3aW5Ub0lELnBhcmVudCk7XG59XG5cblxuZnVuY3Rpb24gbWFpbigpIHtcbiAgY29uc3QgaW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgndGQgW2lkXj1cImNvbnRlbnRcIl0nKTtcbiAgaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoZSkgPT4geyB0ZXJtcyA9IGZvY3VzSGFuZGxlcihlLCBwYW5lbCwgdGVybWxpc3QpOyB9KTtcbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNsaWNrSGFuZGxlcihwYW5lbCkpO1xuICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGUpID0+IHsgY2FyZXQgPSBpbnB1dEhhbmRsZXIoZSwgcGFuZWwsIGNhcmV0LCB0ZXJtcyk7IH0pO1xuICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBlID0+IGtleURvd25IYW5kbGVyKGUsIHBhbmVsLCBjYXJldCkpO1xuICB9KTtcbn1cblxuXG5mdW5jdGlvbiBjaGFuZ2VIYW5kbGVyKGUpIHtcbiAgY29uc3Qgc2VsZWN0ZWQgPSBlLnRhcmdldC52YWx1ZTtcbiAgc3dpdGNoIChzZWxlY3RlZCkge1xuICAgIGNhc2UgJ2Jhc2ljU2hvcnRNb250aCc6XG4gICAgICB0ZXJtbGlzdCA9IG5ldyBUZXJtTGlzdChiYXNpY1Nob3J0TW9udGgpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnYmFzaWNMb25nTW9udGgnOlxuICAgICAgdGVybWxpc3QgPSBuZXcgVGVybUxpc3QoYmFzaWNMb25nTW9udGgpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2hvcnRNb250aEFNUE0nOlxuICAgICAgdGVybWxpc3QgPSBuZXcgVGVybUxpc3Qoc2hvcnRNb250aEFNUE0pO1xuICAgICAgYnJlYWs7XG4gIH1cbn1cblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcbiAgLy8gRm9yIFhUTVxuICAvLyBpZihnZXRGcmFtZURlcHRoICh3aW5kb3cuc2VsZikgPT09IDIpIG1haW4oKTtcblxuICAvLyBGb3IgZGV2ZWxvcG1lbnRcbiAgY29uc3QgZHJvcGRvd24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJvcGRvd24nKTtcbiAgZHJvcGRvd24uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgY2hhbmdlSGFuZGxlcik7XG4gIG1haW4oKTtcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==